---
title: 浏览器是如何工作的
description: <blockquote class="blockquote-center"></blockquote>
date: 2017-03-29 11:10:38
tags:
categories:
keywords:
---

## why？

* Web浏览器是世界上使用最广泛的软件。
* 浏览器提供web资源并创建可以允许web应用程序的沙箱环境。
* 浏览器实现这一点的方式非常复杂，并且由许多不同的标准决定。
* 浏览器的一些机制其实是具有着欺骗性和反直觉性。
* 了解浏览器的工作原理为我们提高网站/网页类应用程序的效率和代码的组织结构提供了理论依据。

## 复杂

* 这里无法讲解浏览器工作原理的所有细节。
* 每个浏览器都有自己的实现方式。

## 一般和模块化的方法
* 浏览器遵循相同的标准
* 大多数浏览器有着相同的总体结构和同样的模块

**本文将讨论这些共同行为。**

## 浏览器的两个主要模块

* 渲染引擎（也成为布局引擎）
* Javascript解释器

### 不同浏览器使用的渲染引擎不一样
* Mozilla Firefox 使用 `Gecko`
* Safari 和 Google Chrome（version 27之前）使用`Webkit`。
* Chrome使用`Blink`在version 27之后

### 一个web页面的组成
* HTML：应用程序的内容
* CSS： 内容的样式
* Javascript： 应用程序的逻辑部分，有时也是一些动画(animations)等等。
* 其它

### 渲染引擎（rendering engine）的工作
从HTML,CSS,JS开始，将网页呈现在用户屏幕上，大概需要经过四个阶段：

1. 处理HTML构建DOM，处理CSS构建CSSOM
2. 将DOM和CSSOM合并到一个渲染树中
3. 布局渲染树（render tree）,通过几何计算